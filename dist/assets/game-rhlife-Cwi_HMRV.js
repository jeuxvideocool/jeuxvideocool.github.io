import{l as w,e as H,f as A,n as b,w as L,s as M}from"./index-CxHBSZk-.js";/* empty css                    */const N=[{id:"satisfaction",label:"Satisfaction affichee",visible:!0,initial:54,polarity:"positive"},{id:"performance",label:"Performance business",visible:!0,initial:56,polarity:"positive"},{id:"legal",label:"Conformite legale",visible:!0,initial:62,polarity:"positive"},{id:"pressure",label:"Pression hierarchique",visible:!0,initial:48,polarity:"negative"},{id:"reputation",label:"Reputation RH",visible:!0,initial:50,polarity:"positive"},{id:"burnout",label:"Epuisement reel",visible:!1,initial:35,polarity:"negative"},{id:"cynicism",label:"Cynisme collectif",visible:!1,initial:38,polarity:"negative"},{id:"socialRisk",label:"Risque social latent",visible:!1,initial:30,polarity:"negative"}],z=[{id:"intro-barometre",title:"Semaine 1 - Barometre qui gratte",difficulty:1,context:{mail:"Objet: Barometre Q2 - merci d'eviter les verbatims qui sentent la merde.",meeting:"Reunion hebdo RH: on vend l'energie, pas les irritants. Pas de slide qui pique.",rumor:"Rumeur: la version brute circule deja en PDF 'pas pour diffusion'.",incident:"Incident discret: une capture des arrets a atterri sur le channel memes.",urgentRequest:"Demande urgente: COMEX veut une note clean avant demain 9h."},problem:"Le barometre crie. Le terrain veut des actes, la direction veut un vernis. Tu choisis ce qui se voit.",choices:[{id:"intro-optimize",label:"Publier une synthese optimisee, actions rapides et vocabulaire positif.",immediateEffects:{satisfaction:4,performance:2,legal:-2,pressure:-3,reputation:1,burnout:1,cynicism:4,socialRisk:3},deferredConsequences:[{delay:2,summary:"Fuite des verbatims bruts. Indignation froide et documentee.",event:"Un cadre partage le fichier original a un collectif.",effects:{satisfaction:-6,reputation:-4,socialRisk:8,legal:-3}}],feedback:"Synthese alignee. L'Excel respire. On gagne une journee.",futureEvent:"Risque de fuite si un verbatim sale ressort.",endingImpact:"Renforce une trajectoire performante mais impopulaire."},{id:"intro-listen",label:"Lancer des ateliers d'ecoute limites, anonymes, avec cadrage serre.",immediateEffects:{satisfaction:6,performance:-2,legal:1,pressure:3,reputation:3,burnout:-2,cynicism:-2,socialRisk:-1},deferredConsequences:[{delay:2,summary:"Attentes non financees. La parole tourne court.",event:"Les groupes disent avoir servi de vitrine.",effects:{cynicism:6,satisfaction:-3,pressure:2}}],feedback:"Signal humain envoye. Agenda surcharge. Le COMEX soupire.",futureEvent:"Risque d'effet boomerang si rien ne suit.",endingImpact:"Favorise une fin humaine mais politisee."},{id:"intro-legal",label:"Remonter l'alerte au juridique et geler la comm, le temps de blinder.",immediateEffects:{satisfaction:-3,performance:-1,legal:5,pressure:5,reputation:1,burnout:1,cynicism:1,socialRisk:2},deferredConsequences:[{delay:1,summary:"Le juridique demande des traces et des preuves. Ca gratte.",event:"Audit interne surprise.",effects:{pressure:3,performance:-2,legal:2,burnout:2}}],feedback:"Couverture legale solide. Ambiance crispee.",futureEvent:"Audit interne si les signaux se confirment.",endingImpact:"Rend plausible une fin sacrifiee par le systeme."}]},{id:"bureau-fantome",title:"Semaine 2 - Bureau fantome",difficulty:1,context:{mail:"Objet: Bail etage 7 - personne ne veut y aller.",meeting:"Reunion services generaux: 300m2 vides, facture pleine.",rumor:"Rumeur: l'etage 7 serait hante depuis la fusion.",incident:"Incident discret: un candidat refuse l'offre apres visite tardive.",urgentRequest:"Demande urgente: occuper l'etage 7 avant la visite investisseurs."},problem:"L'etage 7 fait peur et coute cher. Tu dois le rendre presentable sans panique.",choices:[{id:"fantome-cowork",label:"Transformer en coworking externe a la semaine.",immediateEffects:{satisfaction:2,performance:2,legal:-1,pressure:-2,reputation:2,burnout:-1,cynicism:-1,socialRisk:1},deferredConsequences:[{delay:2,summary:"Les coworkers postent des photos et leakent des infos.",event:"Un visiteur filme un mur d'objectifs.",effects:{reputation:-3,socialRisk:4,legal:-2}}],feedback:"Le loyer respire. La securite grimace.",futureEvent:"Risque de fuites d'informations.",endingImpact:"Peut nourrir une fin performante mais exposee."},{id:"fantome-decor",label:"Mettre en scene une fausse renovation bruyante.",immediateEffects:{satisfaction:-1,performance:3,legal:-2,pressure:-3,reputation:-1,burnout:1,cynicism:3,socialRisk:2},deferredConsequences:[{delay:1,summary:"Des urbex filtrent la supercherie.",event:"Un reel moqueur tourne.",effects:{reputation:-4,socialRisk:4,cynicism:2}}],feedback:"On gagne du temps. On perd des points de confiance.",futureEvent:"Risque de buzz moqueur si la mise en scene fuit.",endingImpact:"Renforce une fin cynique ou sacrifiee."},{id:"fantome-silence",label:"Assumer le calme et lancer un bureau silencieux.",immediateEffects:{satisfaction:3,performance:-1,legal:1,pressure:1,reputation:2,burnout:-2,cynicism:-1,socialRisk:-1},deferredConsequences:[{delay:2,summary:"Le dispositif explose, pas assez de places.",event:"L'etage devient un symbole de privilege.",effects:{satisfaction:-3,cynicism:3,pressure:2}}],feedback:"Le calme seduit. La liste d'attente aussi.",futureEvent:"Demande en surchauffe si tout le monde veut y aller.",endingImpact:"Favorise une fin humaine mais sous tension."}]},{id:"mobilite-agile",title:"Semaine 3 - Mobilite agile",difficulty:2,context:{mail:"Objet: Projet Mobilite Agile - rationaliser sans dire le mot qui fache.",meeting:"Comite managers: on requalifie les postes, pas besoin de filer la trouille.",rumor:"Rumeur: une liste de 40 noms circule, avec des smileys.",incident:"Incident discret: un manager annonce un changement sans RH, c'est le bordel.",urgentRequest:"Demande urgente: CFO veut un plan low noise d'ici vendredi."},problem:"Le plan coupe dans les couts et dans le moral. On veut de l'agile, pas de la casse. Tu cadres la methode.",choices:[{id:"mobilite-force",label:"Valider la mobilite forcee avec un discours d'opportunite.",immediateEffects:{satisfaction:-5,performance:6,legal:-3,pressure:-2,reputation:-3,burnout:4,cynicism:5,socialRisk:5},deferredConsequences:[{delay:1,summary:"Plainte collective et intervention des representants.",event:"Saisine de l'inspection du travail.",effects:{legal:-6,socialRisk:7,reputation:-2}}],feedback:"Plan accelere. Froid mais net. Ca sent la poussiere froide.",futureEvent:"Risque de contentieux si un dossier sort.",endingImpact:"Renforce la trajectoire DRH performante mais detestee."},{id:"mobilite-pilote",label:"Negocier un pilote transparent avec volontariat limite.",immediateEffects:{satisfaction:3,performance:-2,legal:2,pressure:2,reputation:2,burnout:1,cynicism:-1,socialRisk:-1},deferredConsequences:[{delay:2,summary:"Le pilote ralentit les economies mais apaise.",event:"Le Comex valide une phase 2 plus douce.",effects:{performance:4,satisfaction:2,pressure:-2}}],feedback:"Tu gagnes du temps, pas du credit. Les managers grognent.",futureEvent:"Phase 2 conditionnee aux resultats.",endingImpact:"Favorise une fin humaine mais marginalisee."},{id:"mobilite-stop",label:"Bloquer le projet et demander un arbitrage officiel.",immediateEffects:{satisfaction:1,performance:-4,legal:3,pressure:5,reputation:2,burnout:-2,cynicism:-1,socialRisk:-2},deferredConsequences:[{delay:1,summary:"Le sponsor cherche un contournement. Cabinet externe.",event:"Un cabinet arrive avec un plan sec.",effects:{pressure:4,performance:-2,cynicism:2}}],feedback:"Position principielle. Alliances fragiles. Ca peut te revenir.",futureEvent:"Cabinet externe si l'arbitrage patine.",endingImpact:"Rend plausible une fin sacrifiee ou isolee."}]},{id:"zero-grav",title:"Semaine 4 - Team-building zero gravite",difficulty:2,context:{mail:"Objet: Team-building zero gravite sponsorise.",meeting:"Reunion com: on veut une video virale et propre.",rumor:"Rumeur: le CFO veut selectionner qui monte a bord.",incident:"Incident discret: un manager a le vertige en demo.",urgentRequest:"Demande urgente: valider l'assurance et la liste d'equipe."},problem:"Vol parabolique, budget serre, ego large. Tu tranches la formule.",choices:[{id:"zero-grav-show",label:"Accepter la version show et pousser LinkedIn.",immediateEffects:{satisfaction:1,performance:3,legal:-3,pressure:-1,reputation:4,burnout:2,cynicism:3,socialRisk:4},deferredConsequences:[{delay:1,summary:"Video maladroite et moqueries.",event:"Un montage te ridiculise.",effects:{reputation:-5,socialRisk:4,cynicism:2}}],feedback:"Show lance. Les likes montent. Les regards aussi.",futureEvent:"Risque de backlash public si la video tourne.",endingImpact:"Renforce une fin cynique ou sacrifiee."},{id:"zero-grav-sim",label:"Negocier une version simulateur au sol.",immediateEffects:{satisfaction:2,performance:-1,legal:2,pressure:2,reputation:1,burnout:-1,cynicism:-1,socialRisk:-1},deferredConsequences:[{delay:2,summary:"Le sponsor accuse manque d'audace.",event:"Le partenaire retire des budgets.",effects:{performance:-2,pressure:3,reputation:-1}}],feedback:"Moins riske, moins brillant. La finance respire.",futureEvent:"Financement conditionne a l'impact.",endingImpact:"Favorise une fin humaine mais marginalisee."},{id:"zero-grav-no",label:"Refuser pour raison securite et cout.",immediateEffects:{satisfaction:-2,performance:-2,legal:4,pressure:4,reputation:-1,burnout:-1,cynicism:-1,socialRisk:-2},deferredConsequences:[{delay:1,summary:"Le COMEX parle d'immobilisme.",event:"On te retire la com interne.",effects:{pressure:3,reputation:-2}}],feedback:"Tu evites le crash. Tu perds la vitrine.",futureEvent:"Perte de com si la direction juge le refus.",endingImpact:"Rend plausible une fin sacrifiee."}]},{id:"ia-rh",title:"Semaine 5 - IA RH qui parle trop",difficulty:2,context:{mail:"Objet: IA RH - reponses 24/7, pas d'humain.",meeting:"Comite digital: on veut une hotline bot.",rumor:"Rumeur: le bot promet des primes.",incident:"Incident discret: le bot annonce des vendredis off.",urgentRequest:"Demande urgente: valider les scripts aujourd'hui."},problem:"Le bot parle plus vite que toi. Tu choisis le niveau d'autonomie.",choices:[{id:"ia-pilote",label:"Lancer le bot en pilote public.",immediateEffects:{satisfaction:1,performance:3,legal:-4,pressure:-2,reputation:1,burnout:1,cynicism:3,socialRisk:4},deferredConsequences:[{delay:1,summary:"Capture d'ecran d'une promesse de bonus.",event:"Le bot annonce un treizieme mois.",effects:{legal:-4,reputation:-3,socialRisk:5}}],feedback:"Gain de temps. Perte de controle.",futureEvent:"Risque d'annonces incontrables.",endingImpact:"Pousse vers une fin cynique ou broyee."},{id:"ia-cadre",label:"Encadrer avec FAQ stricte et supervision.",immediateEffects:{satisfaction:-1,performance:1,legal:3,pressure:2,reputation:1,burnout:1,cynicism:1,socialRisk:-1},deferredConsequences:[{delay:2,summary:"Les equipes jugent la reponse trop froide.",event:"On reparle de distance RH.",effects:{satisfaction:-3,cynicism:2}}],feedback:"Cadre pose. La chaleur humaine baisse.",futureEvent:"Reproches sur l'humanite du service.",endingImpact:"Rend plausible une fin humanisee mais bridee."},{id:"ia-stop",label:"Couper le bot, garder des humains.",immediateEffects:{satisfaction:2,performance:-2,legal:2,pressure:3,reputation:2,burnout:-2,cynicism:-1,socialRisk:-1},deferredConsequences:[{delay:1,summary:"Le CTO lance un canal parallele.",event:"Un bot officieux apparait.",effects:{pressure:3,performance:1,socialRisk:2}}],feedback:"Tu gardes le lien. Tu perds l'argument techno.",futureEvent:"Shadow IT si la tech revient en douce.",endingImpact:"Favorise une fin humaine mais fragilisee."}]},{id:"calibration",title:"Semaine 6 - Calibration des performances",difficulty:3,context:{mail:"Objet: Ajustement bonus - marge Q3. On ne dit pas plan social.",meeting:"Reunion managers: on doit sortir 10% en plan de perf, vite et propre.",rumor:"Rumeur: une liste des trop chers circule, onglet 'chiants'.",incident:"Incident discret: un employe craque en open space, chaise renversee.",urgentRequest:"Demande urgente: liste PIP pour demain 18h."},problem:"Le tri parait inevitable. Personne ne veut se salir les mains, tout le monde veut les chiffres.",choices:[{id:"calibration-forced",label:"Appliquer le forced ranking et livrer la liste.",immediateEffects:{satisfaction:-6,performance:5,legal:-2,pressure:-3,reputation:-4,burnout:4,cynicism:6,socialRisk:6},deferredConsequences:[{delay:1,summary:"Depart massif et murmures de greve.",event:"Des leaders informels parlent d'arret.",effects:{socialRisk:7,reputation:-5,satisfaction:-3}}],feedback:"Liste livree. Silence dans les couloirs. Ca pue le non-dit.",futureEvent:"Risque d'arret collectif si la liste fuit.",endingImpact:"Pousse vers DRH performant mais deteste."},{id:"calibration-support",label:"Proposer un plan d'accompagnement avec objectifs realistes.",immediateEffects:{satisfaction:-2,performance:2,legal:1,pressure:2,reputation:2,burnout:1,cynicism:-1,socialRisk:-1},deferredConsequences:[{delay:2,summary:"Les equipes remercient mais demandent des moyens.",event:"La charge de travail devient le sujet #1.",effects:{burnout:4,satisfaction:3,pressure:1}}],feedback:"Tu gagnes du lien, pas des lignes de budget. Le CFO grimace.",futureEvent:"La charge revient en boomerang.",endingImpact:"Renforce une fin humaine mais marginalisee."},{id:"calibration-refuse",label:"Refuser la liste, demander mediation collective.",immediateEffects:{satisfaction:3,performance:-3,legal:3,pressure:5,reputation:3,burnout:-1,cynicism:-2,socialRisk:-2},deferredConsequences:[{delay:1,summary:"Le Comex te passe en risque politique.",event:"On te retire un dossier strategique.",effects:{pressure:4,reputation:-2,performance:-1}}],feedback:"Posture claire. Couloir politique ferme. Tu le sens venir.",futureEvent:"Retrait de dossier si la tension monte.",endingImpact:"Rend plausible une fin sacrifiee."}]},{id:"oracle-rh",title:"Semaine 7 - Oracle RH",difficulty:3,context:{mail:"Objet: Alignement astral et planning RH.",meeting:"Comite direction: une coach astro propose son protocole.",rumor:"Rumeur: les dates de licenciements suivent la lune.",incident:"Incident discret: un manager refuse un Capricorne.",urgentRequest:"Demande urgente: valider un calendrier cosmique."},problem:"On te demande de signer une politique RH basee sur les astres.",choices:[{id:"oracle-play",label:"Jouer le jeu et integrer l'oracle.",immediateEffects:{satisfaction:1,performance:-1,legal:-2,pressure:-2,reputation:-2,burnout:1,cynicism:4,socialRisk:3},deferredConsequences:[{delay:1,summary:"Presse locale se moque.",event:"Un article titre 'RH sous astrologie'.",effects:{reputation:-4,socialRisk:4,cynicism:2}}],feedback:"Le board sourit. Le terrain leve les yeux au ciel.",futureEvent:"Risque d'exposition ridicule en externe.",endingImpact:"Pousse vers une fin cynique ou sacrifiee."},{id:"oracle-frame",label:"Canaliser en atelier bien-etre sans impact.",immediateEffects:{satisfaction:2,performance:0,legal:2,pressure:1,reputation:1,burnout:-1,cynicism:-1,socialRisk:-1},deferredConsequences:[{delay:2,summary:"L'oracle se plaint d'etre decorative.",event:"Le board relance la demande.",effects:{pressure:2,cynicism:1}}],feedback:"Tu neutralises sans froisser. Personne n'est pleinement content.",futureEvent:"Relance si le board insiste.",endingImpact:"Favorise une fin humaine mais fragile."},{id:"oracle-no",label:"Refuser et exiger des indicateurs factuels.",immediateEffects:{satisfaction:-2,performance:2,legal:3,pressure:4,reputation:1,burnout:1,cynicism:-2,socialRisk:-1},deferredConsequences:[{delay:1,summary:"Le board parle de rigidite.",event:"Tu perds une ally influence.",effects:{pressure:2,reputation:-2}}],feedback:"Tu tiens la ligne. Tu perds un reseau.",futureEvent:"Moins de soutien si le board se braque.",endingImpact:"Rend plausible une fin sacrifiee."}]},{id:"bureau-flottant",title:"Semaine 8 - Bureau flottant",difficulty:3,context:{mail:"Objet: Demenagement sur peniche - concept floating office.",meeting:"Comite immo: on vend l'idee comme innovation.",rumor:"Rumeur: le capitaine est aussi coach agile.",incident:"Incident discret: un employe tombe a l'eau pendant la visite.",urgentRequest:"Demande urgente: plan RH pour normes securite."},problem:"Bureaux flottants, hype ou galere? Tu decides du cadre.",choices:[{id:"flottant-yes",label:"Signer pour le concept et faire un buzz media.",immediateEffects:{satisfaction:2,performance:2,legal:-3,pressure:-1,reputation:3,burnout:2,cynicism:2,socialRisk:3},deferredConsequences:[{delay:1,summary:"Un arret maladie cause par une chute.",event:"L'inspection ouvre un dossier.",effects:{legal:-4,socialRisk:4,pressure:2}}],feedback:"Le buzz monte. Les risques aussi.",futureEvent:"Inspection si un incident survient.",endingImpact:"Renforce une fin cynique ou exposee."},{id:"flottant-pilote",label:"Lancer un pilote hybride, deux jours par mois.",immediateEffects:{satisfaction:2,performance:0,legal:2,pressure:2,reputation:1,burnout:-1,cynicism:-1,socialRisk:-1},deferredConsequences:[{delay:2,summary:"Les equipes se disputent les places.",event:"Tensions sur l'equite.",effects:{satisfaction:-2,cynicism:2,socialRisk:2}}],feedback:"Tu cadres. Ca demande une gestion fine.",futureEvent:"Risque d'equite si les places sont rares.",endingImpact:"Favorise une fin humaine mais sous tension."},{id:"flottant-no",label:"Refuser et proposer une renovation classique.",immediateEffects:{satisfaction:-1,performance:-1,legal:3,pressure:4,reputation:-1,burnout:-1,cynicism:-1,socialRisk:-2},deferredConsequences:[{delay:1,summary:"Le sponsor immo te pointe du doigt.",event:"Tu perds un budget amenagement.",effects:{pressure:3,performance:-2}}],feedback:"Tu privilegies la securite. Tu perds l'effet wow.",futureEvent:"Budget en baisse si le sponsor se vexe.",endingImpact:"Rend plausible une fin sacrifiee."}]},{id:"crise-publique",title:"Semaine 9 - Exposition publique",difficulty:4,context:{mail:"Objet: Article presse en preparation. Ne pas repondre a chaud.",meeting:"Comite de crise: on aligne la narration, pas les details.",rumor:"Rumeur: les syndicats preparent un appel public, ton nom circule.",incident:"Incident discret: un post LinkedIn anonyme cite la boite. Ca buzze.",urgentRequest:"Demande urgente: memo et nom de porte-parole, idealement pas toi."},problem:"L'exterieur regarde enfin. La RH devient visible. Le systeme veut un fusible.",choices:[{id:"crise-fusible",label:"Cadrer la com' et designer un manager fusible.",immediateEffects:{satisfaction:-4,performance:2,legal:-3,pressure:-2,reputation:4,burnout:3,cynicism:5,socialRisk:6},deferredConsequences:[{delay:1,summary:"Le fusible parle. La version se fissure.",event:"Un avocat publie des mails internes.",effects:{legal:-5,reputation:-4,socialRisk:4}}],feedback:"Sortie de crise rapide. Detonateur en reserve.",futureEvent:"Risque de contre-recits publics.",endingImpact:"Pousse vers une fin sacrifiee ou cynique."},{id:"crise-cooperate",label:"Cooperer avec l'inspection et partager les donnees brutes.",immediateEffects:{satisfaction:1,performance:-2,legal:5,pressure:4,reputation:1,burnout:2,cynicism:-1,socialRisk:-2},deferredConsequences:[{delay:1,summary:"Le rapport officialise les tensions mais ouvre un plan.",event:"Le Comex impose une tutelle RH.",effects:{pressure:-3,socialRisk:-3,reputation:2}}],feedback:"Conformite sauvee. Autorite entamee. Tu perds la main.",futureEvent:"Tutelle si l'inspection conclut a un risque.",endingImpact:"Peut mener a une fin humaine mais marginalisee."},{id:"crise-wellbeing",label:"Lancer un plan bien-etre express et storytelling interne.",immediateEffects:{satisfaction:3,performance:-1,legal:-1,pressure:1,reputation:2,burnout:1,cynicism:2,socialRisk:2},deferredConsequences:[{delay:1,summary:"Le decalage entre discours et realite explose.",event:"Un hashtag moqueur devient viral.",effects:{cynicism:8,satisfaction:-4,socialRisk:5,reputation:-3}}],feedback:"Surface propre. Fond inquiet. Les memes vont plus vite.",futureEvent:"Risque de backlash public si la campagne tourne mal.",endingImpact:"Renforce une fin cynique ou broyee."}]},{id:"ultimatum-solo",title:"Semaine 10 - Ultimatum",difficulty:4,context:{mail:"Objet: Ton poste - decision finale ce soir.",meeting:"Reunion Comex: on te veut loyale et visible.",rumor:"Rumeur: un cabinet te propose de monter seule.",incident:"Incident discret: ton nom fuite sur un orga chart.",urgentRequest:"Demande urgente: reponse avant 20h."},problem:"Tu es au carrefour: rester, monter, ou partir pour toi.",choices:[{id:"go-independent",label:"Te mettre a ton compte et partir proprement.",immediateEffects:{satisfaction:4,performance:-2,legal:1,pressure:-5,reputation:2,burnout:-4,cynicism:-3,socialRisk:-1},deferredConsequences:[{delay:1,summary:"Des managers te suivent en off.",event:"La direction bloque l'acces aux dossiers.",effects:{reputation:-1,socialRisk:2,pressure:2}}],feedback:"Tu sors du cadre. Tu reprends le controle.",futureEvent:"Transition delicate si la direction se crispe.",endingImpact:"Declenche la fin gagnante: RH a son compte."},{id:"ultimatum-stay",label:"Rester et signer un pacte de loyaute.",immediateEffects:{satisfaction:-3,performance:3,legal:1,pressure:4,reputation:1,burnout:2,cynicism:2,socialRisk:2},deferredConsequences:[{delay:1,summary:"Tu deviens la voix officielle.",event:"La presse t'identifie comme cible.",effects:{pressure:3,socialRisk:3,reputation:-2}}],feedback:"Tu restes. Le systeme t'avale un peu plus.",futureEvent:"Exposition publique si la crise revient.",endingImpact:"Renforce une fin sacrifiee ou cynique."},{id:"ultimatum-drh",label:"Accepter la promotion DRH sous conditions.",immediateEffects:{satisfaction:-1,performance:2,legal:2,pressure:2,reputation:3,burnout:1,cynicism:1,socialRisk:1},deferredConsequences:[{delay:2,summary:"Les conditions sont floues.",event:"Le CFO revoit la promesse.",effects:{performance:-1,pressure:2,cynicism:1}}],feedback:"Tu montes d'un cran. Tu signes un pari.",futureEvent:"Renegociation si les lignes bougent.",endingImpact:"Peut mener a DRH performant mais deteste."}]}],F=[{id:"independent",title:"RH a son compte",description:"Tu quittes la machine pour monter ton propre cabinet. Tu gagnes la partie."},{id:"burnout",title:"RH broyee",description:"Tu tiens la barque a mains nues. Tu craques. Le systeme t'oublie vite.",min:{burnout:80,pressure:70}},{id:"scapegoat",title:"RH sacrifiee",description:"Le dossier devait tomber. Tu etais la variable d'ajustement.",min:{pressure:75,socialRisk:60}},{id:"cynic",title:"RH devenu cynique",description:"Tu parles KPI. Tu dors Excel. Tu ne ressens plus grand-chose.",min:{cynicism:70,reputation:40}},{id:"drh-hated",title:"DRH performant mais deteste",description:"Objectifs atteints. Regards froids. Dossiers propres. Couloirs vides.",min:{performance:70},max:{satisfaction:40,reputation:45}},{id:"human-marginalized",title:"RH humaine mais marginalisee",description:"Tu as protege des gens. Le pouvoir t'a contourne.",min:{satisfaction:65},max:{performance:55}},{id:"exit-system",title:"RH qui quitte le systeme",description:"Tu pars avant de devenir un rouage. Le systeme continue sans toi.",min:{burnout:70,reputation:45}},{id:"limbo",title:"RH en sursis",description:"Tu restes. Rien n'est resolu. La prochaine crise est deja planifiee."}],G={gauges:N,scenarios:z,endings:F},m="rhlife",t=w(m),R=H(),l=t&&R.find(e=>e.id===t.themeId)||R[0];A();const E=G,f=E.gauges,g=E.scenarios,p=E.endings,B=new Map(f.map(e=>[e.id,e])),h=(t==null?void 0:t.difficultyParams.startingGauge)??50,U=(t==null?void 0:t.difficultyParams.minGauge)??0,_=(t==null?void 0:t.difficultyParams.maxGauge)??100,V="go-independent",$="independent";if(l){const e=document.documentElement.style;e.setProperty("--color-primary",l.colors.primary),e.setProperty("--color-secondary",l.colors.secondary),e.setProperty("--color-accent",l.colors.accent),e.setProperty("--color-text",l.colors.text),e.setProperty("--color-muted",l.colors.muted),e.setProperty("--color-bg",l.colors.background||"#0b101a"),e.setProperty("--color-surface",l.colors.surface||"rgba(255, 255, 255, 0.06)"),document.body.style.background=l.gradient||document.body.style.background}const C=document.getElementById("game-canvas"),T=document.getElementById("ui"),y=document.createElement("div");y.className="rh-shell";T.appendChild(y);const d=document.createElement("div");d.className="launch-overlay";d.style.display="none";T.appendChild(d);function j(){C.width=window.innerWidth*devicePixelRatio,C.height=window.innerHeight*devicePixelRatio}j();window.addEventListener("resize",j);const s={index:0,gauges:S(),pending:[],deferredNow:[],activeResult:null,runStarted:0,wentSolo:!1};function S(){const e=f.map(i=>[i.id,i.initial??h]);return Object.fromEntries(e)}function W(e){return Math.min(_,Math.max(U,Math.round(e)))}function k(e){Object.entries(e).forEach(([i,n])=>{const a=s.gauges[i]??h;s.gauges[i]=W(a+n)})}function J(e,i){e.deferredConsequences.forEach(n=>{s.pending.push({applyAt:s.index+n.delay,summary:n.summary,event:n.event,effects:n.effects,source:{scenarioId:i,choiceId:e.id}})})}function Q(e){const i=s.pending.filter(n=>n.applyAt===e);return s.pending=s.pending.filter(n=>n.applyAt!==e),i.forEach(n=>k(n.effects)),i}function X(){const e=s.pending.filter(i=>i.applyAt>=g.length);return s.pending=[],e.forEach(i=>k(i.effects)),e}function K(){const e=(s.gauges.satisfaction||0)+(s.gauges.performance||0)+(s.gauges.legal||0)+(s.gauges.reputation||0),i=(s.gauges.pressure||0)+(s.gauges.burnout||0)+(s.gauges.cynicism||0)+(s.gauges.socialRisk||0),n=Math.round((e+(400-i))/8);return Math.max(0,Math.min(100,n))}function Y(){return s.wentSolo?p.find(i=>i.id===$)||p[p.length-1]:p.find(i=>{if(i.min){for(const[n,a]of Object.entries(i.min))if((s.gauges[n]??h)<a)return!1}if(i.max){for(const[n,a]of Object.entries(i.max))if((s.gauges[n]??h)>a)return!1}return!0})||p[p.length-1]}function D(){if(!t){q("Config a completer","Cree configs/games/rhlife.config.json",!1);return}d.style.display="none",s.index=0,s.gauges=S(),s.pending=[],s.deferredNow=[],s.activeResult=null,s.runStarted=Date.now(),s.wentSolo=!1,b({type:"SESSION_START",gameId:m}),x()}function O(e){if(s.activeResult)return;const i=g[s.index],n=i==null?void 0:i.choices[e];n&&(k(n.immediateEffects),J(n,i.id),n.id===V&&(s.wentSolo=!0),s.activeResult={scenarioId:i.id,choice:n,immediateEffects:n.immediateEffects},b({type:"CHOICE_MADE",gameId:m,payload:{scenarioId:i.id,choiceId:n.id}}),x())}function P(){if(!s.activeResult)return;b({type:"SCENARIO_COMPLETE",gameId:m,payload:{scenarioId:s.activeResult.scenarioId}}),s.activeResult=null;const e=s.index+1;if(e>=g.length){Z();return}s.index=e,s.deferredNow=Q(s.index),x()}function Z(){const e=X(),i=Y(),n=K();b({type:"ENDING_REACHED",gameId:m,payload:{endingId:i.id,score:n}}),b({type:i.id===$?"SESSION_WIN":"SESSION_FAIL",gameId:m,payload:{endingId:i.id,score:n}}),M(m,(t==null?void 0:t.saveSchemaVersion)??1,a=>{const r=a.state.runs||0;a.state.runs=r+1,a.state.lastEndingId=i.id,a.state.lastScore=n,(!a.bestScore||n>a.bestScore)&&(a.bestScore=n,a.state.bestScore=n)}),ne(i,n,e)}function x(){const e=g[s.index];if(!e)return;const i=f.filter(o=>o.visible),n=f.filter(o=>!o.visible),a=ee(s.deferredNow),r=s.activeResult?ie(s.activeResult):"",c=s.activeResult?"":`
      <div class="rh-choices">
        ${e.choices.map((o,u)=>`<button class="rh-choice" data-choice-index="${u}"><span>${u+1}</span>${o.label}</button>`).join("")}
      </div>
    `;y.innerHTML=`
    <div class="rh-header">
      <div class="rh-title">${(t==null?void 0:t.uiText.title)||"RHLife"}</div>
      <div class="rh-meta">
        <span>Scenario ${s.index+1}/${g.length}</span>
        <span>Difficulte ${e.difficulty}</span>
      </div>
      <div class="rh-tags">
        <span class="rh-tag">${e.title}</span>
      </div>
    </div>
    <div class="rh-grid">
      <section class="rh-panel">
        <h2>Jauges visibles</h2>
        ${i.map(I).join("")}
        <h2>Indicateurs internes</h2>
        ${n.map(I).join("")}
      </section>
      <section class="rh-panel">
        ${a}
        <h2>Contexte narratif</h2>
        <div class="rh-context">
          ${v("Mail",e.context.mail)}
          ${v("Reunion",e.context.meeting)}
          ${v("Rumeur",e.context.rumor)}
          ${v("Incident",e.context.incident)}
          ${v("Urgent",e.context.urgentRequest)}
        </div>
        <h2>Situation problematique</h2>
        <div class="rh-problem">${e.problem}</div>
        ${r}
        ${c}
      </section>
    </div>
  `}function I(e){const i=s.gauges[e.id]??h,n=Math.min(100,Math.max(0,i));return`
    <div class="rh-gauge ${e.polarity==="negative"?"is-negative":"is-positive"}">
      <div class="rh-gauge-head">
        <span class="rh-gauge-label">${e.label}</span>
        <strong class="rh-gauge-value">${i}</strong>
      </div>
      <div class="rh-gauge-bar"><span style="width: ${n}%"></span></div>
    </div>
  `}function v(e,i){return`
    <div class="rh-context-item">
      <span>${e}</span>
      <div>${i}</div>
    </div>
  `}function ee(e){return e.length?`
    <div class="rh-deferred">
      <h4>Consequences differees</h4>
      ${e.map(i=>`<p>${i.summary} (${i.event})</p>`).join("")}
    </div>
  `:""}function ie(e){const i=Object.entries(e.immediateEffects).map(([a,r])=>{const c=B.get(a);if(!c)return"";const o=r>0?"+":"",u=r>=0?"pos":"neg";return`
        <div class="rh-effect">
          <strong>${c.label}</strong>
          <span class="${u}">${o}${r}</span>
        </div>
      `}).join(""),n=e.choice.deferredConsequences.length?e.choice.deferredConsequences.map(a=>`<div class="rh-effect"><strong>Dans ${a.delay} scenario(s)</strong><span>${a.summary}</span></div>`).join(""):'<div class="rh-effect"><span>Aucun signal differe identifie.</span></div>';return`
    <div class="rh-result">
      <div class="rh-result-title">Decision actee</div>
      <p class="rh-result-choice">${e.choice.label}</p>
      <div class="rh-result-block">
        <h4>Feedback corporate</h4>
        <p>${e.choice.feedback}</p>
      </div>
      <div class="rh-result-block">
        <h4>Effets immediats</h4>
        <div class="rh-effects">${i}</div>
      </div>
      <div class="rh-result-block">
        <h4>Consequences differees possibles</h4>
        <div class="rh-effects">${n}</div>
      </div>
      <div class="rh-result-meta">
        <div>
          <span>Evenement futur declenchable</span>
          <p>${e.choice.futureEvent}</p>
        </div>
        <div>
          <span>Impact potentiel sur la fin du jeu</span>
          <p>${e.choice.endingImpact}</p>
        </div>
      </div>
      <button class="rh-btn" data-action="continue">Continuer</button>
    </div>
  `}function q(e,i,n=!0){d.style.display="grid";const a=(t==null?void 0:t.uiText.shortDescription)||"",r=i||(t==null?void 0:t.uiText.help)||"",c=((t==null?void 0:t.uiText.controls)||[]).map(u=>`<span class="launch-chip">${u}</span>`).join("");d.innerHTML=`
    <div class="launch-card">
      <div class="launch-head">
        <div class="launch-brand">
          <span class="launch-badge">Arcade Galaxy</span>
          <span class="launch-badge ghost">${(t==null?void 0:t.uiText.title)||"RHLife"}</span>
        </div>
        <h2 class="launch-title">${e}</h2>
        ${a?`<p class="launch-subtitle">${a}</p>`:""}
      </div>
      <div class="launch-grid">
        <section class="launch-section">
          <h3 class="launch-section-title">Briefing</h3>
          <p class="launch-text">${r}</p>
          <p class="launch-note">Chaque choix deplace des jauges visibles et internes. Rien n'est neutre.</p>
        </section>
        <section class="launch-section">
          <h3 class="launch-section-title">Indicateurs</h3>
          <div class="launch-metrics">
            ${f.map(u=>`<div class="launch-metric"><span>${u.label}</span><strong>${s.gauges[u.id]}</strong></div>`).join("")}
          </div>
        </section>
        <section class="launch-section">
          <h3 class="launch-section-title">Controles</h3>
          <div class="launch-chips">
            ${c||'<span class="launch-chip muted">Controles a definir</span>'}
          </div>
        </section>
      </div>
      <div class="launch-actions">
        ${n?'<button class="launch-btn primary" id="launch-start">Lancer</button>':""}
        <a class="launch-btn ghost" href="${L("/")}">Hub</a>
      </div>
    </div>
  `;const o=document.getElementById("launch-start");o==null||o.addEventListener("click",D)}function ne(e,i,n){var r;d.style.display="grid";const a=n.length?n.map(c=>`<p class="launch-note">${c.summary} (${c.event})</p>`).join(""):'<p class="launch-note">Aucune onde de choc supplementaire detectee.</p>';d.innerHTML=`
    <div class="launch-card">
      <div class="launch-head">
        <div class="launch-brand">
          <span class="launch-badge">Fin atteinte</span>
          <span class="launch-badge ghost">${e.title}</span>
        </div>
        <h2 class="launch-title">${e.title}</h2>
        <p class="launch-subtitle">${e.description}</p>
      </div>
      <div class="launch-grid">
        <section class="launch-section">
          <h3 class="launch-section-title">Bilan</h3>
          <p class="launch-text">Score de carriere: ${i}</p>
          ${a}
        </section>
        <section class="launch-section">
          <h3 class="launch-section-title">Jauges finales</h3>
          <div class="launch-metrics">
            ${f.map(c=>`<div class="launch-metric"><span>${c.label}</span><strong>${s.gauges[c.id]}</strong></div>`).join("")}
          </div>
        </section>
      </div>
      <div class="launch-actions">
        <button class="launch-btn primary" id="launch-retry">Rejouer</button>
        <a class="launch-btn ghost" href="${L("/")}">Hub</a>
      </div>
    </div>
  `,(r=document.getElementById("launch-retry"))==null||r.addEventListener("click",D)}function se(e){if(d.style.display!=="none")return;const i=(t==null?void 0:t.input.keys)||{};if(s.activeResult){(e.code===i.next||e.code==="Enter")&&P();return}const n=g[s.index];if(!n)return;const r=[i.choice1,i.choice2,i.choice3,i.choice4].findIndex(c=>c&&e.code===c);r>=0&&r<n.choices.length&&O(r)}y.addEventListener("click",e=>{const i=e.target;if(!i)return;const n=i.closest("[data-choice-index]");if(n){const r=Number(n.dataset.choiceIndex);O(r);return}const a=i.closest("[data-action]");(a==null?void 0:a.dataset.action)==="continue"&&P()});window.addEventListener("keydown",se);t?q(t.uiText.title,t.uiText.help,!0):q("Config manquante","Ajoute configs/games/rhlife.config.json",!1);
